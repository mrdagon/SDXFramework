<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>SDXFrameWork: SDXの導入方法(Windows)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SDXFrameWork
   &#160;<span id="projectnumber">0.09</span>
   </div>
   <div id="projectbrief">SDXFrameWork</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SDXの導入方法(Windows) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SDXFrameworkの使用には<br />
 ｢SDXFramework｣<br />
「VisualStudio2013」<br />
が必要です。<br />
Windows環境の場合、コンパイラは「VisualC++ 2013 Express Edition for Desktop」を推奨しています。<br />
識別子にUnicodeを使用している関係で基本的にgccでコンパイルする事は出来ません。<br />
VisualStudio2013以前の環境については、サポートしていません。 </p><hr/>
<p> <b>1 VisualStudioをインストールする</b><br />
C++の規格準拠具合の関係で、VisualStudio2012以前のコンパイラは使用できません。<br />
<a href="http://www.visualstudio.com/downloads/download-visual-studio-vs" target="_blank"><b>Visual Studio のダウンロード</b></a><br />
「Visual Studio Express 2013 for Windows」と<br />
「Visual Studio Express 2013 for Windows Desktop」がありますが<br />
Desktopの方しか使えないので、注意して下さい。<br />
また使用しているOSがWindowsXPやVistaの場合、VisualStudio2013がインストール出来ないため、SDXは使用できません。<br />
<br />
詳細なインストール方法やライセンス登録については、「VisualStudio 2013 インストール」でGoogle検索するといくつかキャプチャ付きの記事が見つかると思うので<br />
それらを参考にしてください<br />
</p><hr/>
<p> <b>2 SDXFrameworkをダウンロードする</b><br />
下記サイトで最新版を配布しているので、リンク先からダウンロードして下さい<br />
<a href="https://sourceforge.jp/projects/dxframework/" target="_blank"><b>SorceForge</b></a><br />
</p><hr/>
<p> <b>3 新規プロジェクトの作成</b><br />
<b>プロジェクトの作成</b><br />
①上部メニューの「ファイル」の「新しいプロジェクト」からWin32アプリケーションのプロジェクトを作成します。プロジェクト名は好きなように付けて下さい<br />
<br />
②Win32アプリケーション ウィザードが開くので、一回「次へ」をクリックします。<br />
空のプロジェクトにチェックを入れて、完了をクリックして下さい。<br />
<br />
<b>プロジェクトを設定</b><br />
①上部メニューの「プロジェクト」をクリックし「プロパティ」をクリックし、設定ダイアログを開きます。<br />
<br />
②ダイアログ左上の構成を「アクティブ(Debug)」から「全ての構成」に変更します<br />
<br />
③ダイアログ左の「構成プロパティ」→「C/C++」→「全般」を選びます。<br />
追加のインクルードディレクトリに先ほど解凍した「SDXFramework/jni/SDL/include」を追加し、「適用」ボタンをクリックします。<br />
<br />
④ダイアログ左の「構成プロパティ」→「リンカー」→「全般」を選びます。<br />
追加のライブラリディレクトリに先ほど解凍した「SDXFramework/Windows/lib/x86」を追加し、「適用」ボタンをクリックします。<br />
<br />
⑤最後にダイアログの右下にある「OK」を押してダイアログを閉じます。<br />
<br />
<b>dllのコピー</b><br />
SDXFramework/Windows/dll/x86の中にあるdllファイルを実行ファイルが作成されるフォルダと同じ場所にコピーします<br />
 64bit版の場合、X64。32bit版の場合、X86を使ってください。 libとdllの構成が違う場合、コンパイルエラーか実行エラーになります。</p>
<hr/>
<p> <b>4 サンプルソースのビルド</b><br />
画面左側の「ソリューションエクスプローラー」の「ソースファイル」フォルダを、<br />
右クリックして「追加」→「新しい項目」から.cppファイルを追加して下さい。<br />
ファイル名は何でもかまいませんが「main.cpp」にして下さい。<br />
追加したcppファイルに以下のコードをコピペして、コンパイルして実行して下さい。<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;SDXFramework.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Multimedia/SDXafx.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>SDX;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_s_d_x_1_1_system.html#acd3d000bd013233dd518a5bc6e43590f">System::Initialise</a>(<span class="stringliteral">&quot;sample&quot;</span>, 640, 480);<span class="comment">//ライブラリの初期化</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> x = 320;</div>
<div class="line">    <span class="keywordtype">int</span> y = 240;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="class_s_d_x_1_1_system.html#a209a4390eba4a0496bf17a9b6643fefb">System::Update</a>())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (Input::pad.Down.hold) y += 5;</div>
<div class="line">        <span class="keywordflow">if</span> (Input::pad.Up.hold) y -= 5;</div>
<div class="line">        <span class="keywordflow">if</span> (Input::pad.Right.hold) x += 5;</div>
<div class="line">        <span class="keywordflow">if</span> (Input::pad.Left.hold) x -= 5;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="class_s_d_x_1_1_drawing.html#a187d8e2094ac03a175f55d2ad60a1512">Drawing::Rect</a>({x-10, y-10, 20, 20}, Color::White, <span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_s_d_x_1_1_system.html#abf134fee23f168a2c5d4ec57f45bd0e0">System::End</a>();<span class="comment">//ライブラリの終了処理</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>画面に白い□が表示され、カーソルで移動出来れば導入成功です。<br />
失敗した場合は、もう一度手順を確認して下さい。<br />
よくわからない場合は、掲示板で「新しい話題を始める」をクリックして質問して下さい。<br />
<a href="http://sourceforge.jp/projects/dxframework/forums/31378/" target="_blank"><b>SDXFramework：ヘルプフォーラム</b></a><br />
 </p><hr/>
<p> <b>5 プリコンパイル済みヘッダーを利用する</b><br />
SDXは色々な理由があって、大半のコードをヘッダーに実装しており、普通にコンパイルすると時間が余計にかかります。<br />
そのため、プリコンパイル済みヘッダーを使う事を推奨しています（使わなくても動作はします）<br />
<br />
<b>ファイルを追加する</b><br />
画面左側の「ソリューションエクスプローラー」の「ソースファイル」フォルダを右クリックして<br />
「追加」→「新しい項目」から.cppファイルを追加して下さい。<br />
ファイル名は「pre_compile.cpp」とします。<br />
<br />
次に画面左側の「ソリューションエクスプローラー」の「ヘッダーファイル」フォルダを右クリックして<br />
「追加」→「新しい項目」から.hファイルを追加して下さい。<br />
ファイル名は「stdafx.h」にして下さい。<br />
<br />
<b>ファイルを編集する</b><br />
pre_compile.cpp（cppとhを間違えないで下さい）には<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;stdafx.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Multimedia/SDXafx.h&gt;</span></div>
</div><!-- fragment --><p> と入力して下さい。<br />
<br />
stdafx.hには<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;SDXFramework.h&gt;</span></div>
</div><!-- fragment --><p> と入力して下さい。<br />
<br />
先ほどの「main.cpp」の<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;SDXFramework.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Multimedia/SDXafx.h&gt;</span></div>
</div><!-- fragment --><p> の三行を<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;stdafx.h&quot;</span></div>
</div><!-- fragment --><p> に変更します。<br />
<br />
<b>プリコンパイル済みヘッダーの作成と使用設定</b><br />
 画面左側の「ソリューションエクスプローラー」の「main.cpp」を右クリックし「プロパティ」を開きます。<br />
ダイアログ左の「構成プロパティ」→「C/C++」→「プリコンパイル済みヘッダー」を選択します。<br />
画面右の「プリコンパイル済みヘッダー」を「使用 (/Yu)」に変更し、画面右下の「OK」をクリックします。<br />
<br />
 次は「ソリューションエクスプローラー」の「pre_compile.cpp」を右クリックし「プロパティ」を開きます。<br />
ダイアログ左の「構成プロパティ」→「C/C++」→「プリコンパイル済みヘッダー」を選択します。<br />
画面右の「プリコンパイル済みヘッダー」を「作成 (/Yc)」に変更し、画面右下の「OK」をクリックします。<br />
<br />
これで、コンパイルが通る事を確認して下さい。<br />
<br />
もし「main.cpp」以外に他の.cppファイルを追加する場合は、そのファイルも「main.cpp」と同じ設定をして、<br />
</p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;stdafx.h&quot;</span></div>
</div><!-- fragment --><p> をファイルの先頭に書いて下さい。<br />
</p><hr/>
<p> <b>6 プリコンパイル済みヘッダーだけ最適化する</b><br />
※この設定は必須ではありません<br />
デバッグビルドが遅い場合は、プリコンパイル済みヘッダーのみ最適化する事が出来ます。<br />
デバッグビルドで処理落ちしない場合は、この設定をする必要はありません。<br />
<br />
※VC++のバグなのか、１項目ずつ適用しないと、フリーズする事があります。<br />
①画面左側の「ソリューションエクスプローラー」の「stdafx.cpp」を右クリックし「プロパティ」を開きます。<br />
<br />
②ダイアログ左上の構成を「アクティブ(Debug)」か「Debug」にします。<br />
<br />
③ダイアログ左の「構成プロパティ」→「C/C++」→「全般」を選択します。<br />
画面右の「デバッグ情報の形式」を「プログラム データベース (/Zi)」に変更し、画面右下の「適用」をクリックします。<br />
<br />
④ダイアログ左の「構成プロパティ」→「C/C++」→「最適化」を選択します。<br />
画面右の「最適化」を「実行速度の最大化 (/O2)」に変更し、画面右下の「適用」をクリックします。<br />
<br />
⑤ダイアログ左の「構成プロパティ」→「C/C++」→「コード生成」を選択します。<br />
画面右の「基本ランタイムチェック」を「既定」に変更し、画面右下の「適用」をクリックします。<br />
その後、隣の「OK」をクリックして、設定を完了させます。<br />
<br />
これで、ある程度処理が早くなります。<br />
コンパイル時に警告メッセージが表示されますが、無視して下さい。<br />
</p><hr/>
<p> <b>7 エディットコンティニュを有効にする</b><br />
 ※この設定は必須ではありません<br />
 ゲーム開発の場合、例えば敵キャラの動きを少し変えるとか、キャラクターの台詞を少し変えるとかする度に<br />
プログラムを終了して、再コンパイルし実行するのは非常に手間がかかり面倒です。<br />
lua等のスクリプトを使ったり、外部のリソースにしても良いのですが、それはそれで手間です。<br />
<br />
 VisualStudioを使う場合、エディットコンティニュを使えば、実行中に差分コンパイルが可能です。<br />
多少制約はあるものの、使いこなせば相応に強力なのでVisualStudioを使うなら、是非とも使いましょう。<br />
<br />
<b>設定方法</b><br />
①上部メニューの「デバッグ」を開き「オプションと設定」をクリックしダイアログを開きます。<br />
<br />
②一覧から「デバッグ」→「エディットコンティニュ」を選択します。<br />
<br />
③「ネイティブのエディットコンティニュを有効にする」にチェックを入れ、画面右下の「OK」をクリックします。 <br />
<b>エディットコンティニュの利用</b><br />
①先ほど書いたサンプルをデバッグ実行します。<br />
<br />
②実行中にソースを編集します。xやyに足したり引く値を5から15に増やして下さい。<br />
<br />
③上部メニューの「デバッグ」→「コード変更を適用」をクリックします。<br />
<br />
④差分コンパイルが開始しすぐに終わります。カーソルキーでの移動速度が３倍になっていれば成功です。<br />
<br />
 開発初期の全体的な設計の段階では、エディットコンティニューはそこまで便利ではないですし、<br />
複数人で開発していて、スキル差が大きいのでスクリプトを使う場合や、スクリプトで追加データを配布したい場合等<br />
エディットコンティニュが万能かと言うと、そうではないですが、VisualStudioを使うなら抑えておきたい機能です。<br />
<br />
</p><hr/>
<p> <b>8 プロジェクトのテンプレートを作成する。</b><br />
 VisualStudioでは一度作成したプロジェクトを雛形として保存する事が出来ます。<br />
テンプレートを作成しておけば、次回以降のプロジェクト新規作成が楽になります。<br />
<br />
①画面上部の「ファイル」から、「テンプレートのエクスポート」を選択します。<br />
<br />
②ダイアログが開くので、プロジェクトテンプレートが選択されているのを確認して「次へ」をクリックします。<br />
<br />
③テンプレート名と、テンプレートの説明を書いて、「完了」をクリックします。<br />
テンプレート名は「SDXテンプレート」等として下さい。<br />
<br />
④画面上部の「ファイル」から、「あたらしいプロジェクト」を選択します。<br />
C++用のテンプレートが追加されていれば成功です。次回以降はこれを選択してプロジェクトを作成する事が出来ます。 </p><hr/>
<p> <b>9 完成したソフトを配布する。</b><br />
DXLib版の場合Releaseビルドして、exeファイルと必要なリソースを配布して下さい<br />
SDL版の場合Releaseビルドして、exeファイルとdllファイルと必要なリソースを配布して下さい </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 20 2014 17:17:56 for SDXFrameWork by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
