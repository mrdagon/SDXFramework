<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>SDXFrameWork: 移植性においての注意</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SDXFrameWork
   &#160;<span id="projectnumber">0.09</span>
   </div>
   <div id="projectbrief">SDXFrameWork</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">移植性においての注意 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SDXが利用しているSDLがWindows、Mac、GNU/Linux、iOS、Android等で動くため、ソースコードの修正作業等は殆ど必要ありません。<br />
<br />
 しかしながら実際は様々な理由でそのまま動かない事があるので、以下の点等に注意する必要があります。<br />
例えば特定のコンパイラの拡張文法や特定OSのAPIを使っている場合、当然移植性が下がります<br />
<br />
</p><hr/>
<p> <b>文字エンコーディング</b><br />
BOM付きのUTF-8でソースコードを保存して下さい。<br />
Shift-JIS等で保存するとVisualStudio以外でビルド不可能になる事があります。<br />
<br />
VisualStudioにはデフォルトでUTF-8で保存する機能がないので、ファイルオプションから個別に設定を行うか、<br />
Shift-JISには存在しないがUTF-8に存在する文字(例:☀や©)をコメントする等して下さい<br />
<br />
外部リソースとしてテキストファイルを使う場合もShift-JISで無くUTF-8が推奨されます<br />
</p><hr/>
<p> <b>リソースファイル名</b><br />
一部環境でエラーが出るため、画像やテキストファイル名、フォルダ名等はアルファベット(a~z,A~Z)と数字(0~9)と半角アンダーバーのみにして下さい。<br />
</p><hr/>
<p> <b>WindowsXP</b><br />
VisualStudioで作成したソフトをWindowsXPで動かしたい場合、設定を変更する必要があります。<br />
プロジェクト&gt;プロパティ&gt;構成プロパティ&gt;全般&gt;プラットフォームツールセットをXPに対応している物に変更して下さい。 </p><hr/>
<p> <b>識別子</b><br />
Androidでは関数名やクラス名等にアルファベット(a~z,A~Z)と数字(0~9)と半角アンダーバー以外を使うとエラーが出る事があります。<br />
仮引数や変数に使う分にはエラーは出ないようです。Android以外では問題なく基本ソース文字セット以外の識別子が使えます。<br />
一応ソースを変換するツール(日本語ConvUTF.zip)も配っているので、必要なら使ってください<br />
</p><hr/>
<p> <b>デフォルトフォント</b> OSによってシステムフォントのパスが変わるため、デフォルトフォントで描画出来ない事があります。<br />
</p><div class="fragment"><div class="line">Drawing::SetDefaultFont(<span class="stringliteral">&quot;配布するフォント名.ttf&quot;</span>,16);</div>
</div><!-- fragment --><p> ttfファイルを一緒に配布して、上のような処理をしておくと各プラットフォームでデフォルトフォントを共通に出来ます<br />
フォントにより表示が変わるので複数のOSに対応する場合、OS標準フォントは使うべきではありません<br />
</p><hr/>
<p> <b>ファイル入出力</b><br />
テキストファイルの入出力処理を標準ライブラリの関数で行うと、保存先がOSによってバラバラになります。<br />
Fileクラスを使ってください。<br />
<br />
特にAndroidではFile::Openの第四引数で保存先が変わるので注意して下さい<br />
</p><hr/>
<p> <b>デスクトップとタブレットにおける入出力の違い</b><br />
タブレットOSでタッチ操作をするとMouseクラスとTouchクラスの両方で値を更新しますが、<br />
デスクトップOSでマウス操作をしてもTouchクラスを更新していません。<br />
仮想ジョイパッドを画面に表示したりも今のところしていません<br />
この辺りは仕様が変わる可能性があります<br />
</p><hr/>
<p> <b>ソースファイル名</b><br />
Android版ではソースファイル名をmkファイルに列挙する必要があります<br />
実装と宣言を分けて開発している場合はAndroid.mkファイルを修正する必要がありますし、プリコンパイルヘッダー作成用のソース等も追加する必要があります<br />
<br />
またヘッダーファイル名がSDLで使われているヘッダーファイルと被るとエラーになる事があります。::include "block.h"等でバグりました<br />
</p><hr/>
<p> <b>jpgファイル</b><br />
AndroidでArm以外のCPU向けにビルドすると、エラーが出ています。<br />
jpgの使用をオフにすると動くのですが、原因が分かっていません。<br />
基本的にpngを推奨します。 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 20 2014 17:17:56 for SDXFrameWork by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
